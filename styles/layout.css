section[data-type="chapter"], section[data-type="chaptertitle"] {
  break-before: page;
}

section[data-type="chaptertitle"] {
  break-before: page;
}

h2 {
  /* break-before: page; */
}


/* for the running headers style*/

.dup {
  -epubx-flow-into: header;
  -epubx-flow-options: exclusive static last;
  text-transform: uppercase;
  font-family: "Cooper Hewitt";
  font-weight: 300;
  /* text-align: right; */
  /* text-transform: uppercase !important; */
  font-size: 7pt;
  letter-spacing: 0.50pt;
  margin: 0;
  padding: 0;
}

.booktitle {
  -epubx-flow-into: booktitle;
  -epubx-flow-options: exclusive static last;
  text-transform: uppercase;
  font-family: "Cooper Hewitt";
  font-weight: 300;
  /* text-transform: uppercase !important; */
  font-size: 7pt;
  letter-spacing: 0.50pt;
}


/* styling pieces */

.pagenumber {
  content: counter(page);
  height: 13pt;
  position: absolute;
  bottom: 16pt;
  text-align: center;
  font-family: "Cooper Hewitt";
  font-size: 7pt;
}


/* running headers locations */

.header {
  height: 13pt;
  position: absolute;
  bottom: 16pt;
}


/* flows */

[data-type="chaptertitle"] {
  -epubx-flow-into: chaptertitle;
}

[data-type="chapter"] {
  -epubx-flow-into: chapter;
}

@-epubx-flow chapter {
  -epubx-flow-consume: all;
}

[data-type="titlepage"] {
  -epubx-flow-into: titlepage;
}

[data-type="toc"] {
  -epubx-flow-into: toc;
}

[data-type="colophon"] {
  -epubx-flow-into: colophon;
}

.logo {
  -epubx-flow-into:  logo;
}

/* pages layout */


/* titlepage */


@-epubx-page-master first-page-cover {
  -epubx-page: 1;
  background: url("../images/front.jpg");
  background-size: cover;
}

@-epubx-page-master second-page-backcover {
  -epubx-page: 2;

  background-size: cover;
}



@-epubx-page-master titlepagepage {
  @-epubx-partition body {
    -epubx-flow-from: titlepage;
    -epubx-required: true;
    left: -epubx-expr( page-number % 2==1 ? 10mm: 10mm);
    right: -epubx-expr( page-number % 2==0 ? 10mm: 10mm);
    top: 32pt;
    bottom: 4.3pc;
  }

   @-epubx-partition logos {
    -epubx-flow-from: logo;
    -epubx-required: true;
    left: -epubx-expr( page-number % 2==1 ? 10mm: 10mm);
    right: -epubx-expr( page-number % 2==0 ? 10mm: 10mm);
    /* height: 7em; */
    bottom: 4.3pc;
  }
      background: #435772;



}


/* toc */


@-epubx-page-master toc {
  -epubx-utilization: 0;
  @-epubx-partition toc {
    -epubx-flow-from: toc;
    -epubx-required: true;
    left: -epubx-expr( page-number % 2==1 ? 10mm: 20mm);
    right: -epubx-expr( page-number % 2==0 ? 10mm: 20mm);
    top: 32pt;
    bottom: 4.3pc;
  }
  background: #435772;
}


/* title for chapters */

@-epubx-page-master chaptertitle {
  -epubx-utilization: 0;
  @-epubx-partition chaptertitle {
    -epubx-flow-from: chaptertitle;
    -epubx-required: true;
    left: -epubx-expr( page-number % 2==1 ? 10mm: 20mm);
    right: -epubx-expr( page-number % 2==0 ? 10mm: 20mm);
    top: 32pt;
    bottom: 4.3pc;
  }
  background: #435772;
}


/* colophon */

@-epubx-page-master colophon {
  -epubx-utilization: 0;
  @-epubx-partition colophon {
    -epubx-flow-from: colophon;
    -epubx-required: true;
    left: -epubx-expr( page-number % 2==1 ? 10mm: 20mm);
    right: -epubx-expr( page-number % 2==0 ? 10mm: 20mm);
    top: 32pt;
    bottom: 4.3pc;
  }
  background: #435772;
}

/* create the layout of the body */

@-epubx-page-master chapter {
  -epubx-utilization: 0;

/*   @-epubx-partition grid {
    position: absolute;
    top: 30pt;
    right: 10mm;
    left: 10mm;
    bottom: 10mm;

    border: 1pt solid magenta;

  } */
  @-epubx-partition body {
    -epubx-flow-from: chapter;
    -epubx-required: true;
    -epubx-snap-height: 12pt;
    left: -epubx-expr( page-number % 2==1 ? 10mm: 20mm);
    right: -epubx-expr( page-number % 2==0 ? 10mm: 20mm);
    top: 35pt;
    bottom: 5.2pc;
  }
  /* page numbering left */
  @-epubx-partition class(pagenumber) {
    -epubx-enabled: -epubx-expr( page-number % 2==0 ? 'true': 'false');
    left: 10mm;
  }
  /* page numbering right */
  @-epubx-partition class(pagenumber) {
    -epubx-enabled: -epubx-expr( page-number % 2==1 ? 'true': 'false');
    right: 10mm;
  }
  /* horizontal running header */
/*   @-epubx-partition class(header) {
    -epubx-flow-from: header;
    -epubx-enabled: -epubx-expr( page-number % 2==0 ? 'true': 'false');
    left: 20mm;
  } */
  /* page numbering right */
 /*  @-epubx-partition class(header) {
    -epubx-flow-from: booktitle;
    -epubx-enabled: -epubx-expr( page-number % 2==1 ? 'true': 'false');
    right: 20mm;
  } */

  /* vertical ok */
  @-epubx-partition headervertical {
    -epubx-flow-from: header;
    -epubx-enabled: -epubx-expr( page-number % 2== 1 ? 1 : 0);
    transform: rotate(90deg) translateX(25pt) translateY(-705px);
    transform-origin: 0 100%;
    right: 0;
    top: 0;
    width: 200mm;
  }

  @-epubx-partition booktitleVertical {
    -epubx-flow-from: booktitle;
    -epubx-enabled: -epubx-expr( page-number % 2==0 ? 1 : 0);
    /* need to use some tranlastion to avoid white space on the page. Since thereâ€™s been a rotation, X become the vertical location of the bloc */
    /* giving the max width to the bloc clean the issue */
    width: 200mm;
    transform: rotate(90deg) translateX(25pt) translateY(-239pt);
    transform-origin: 0 100%;
    right: 0;
    top: 0;
    }

/* baseline test */
/*     background: linear-gradient(white 11pt , cyan 1pt);
    background-size: 100% 12pt;
    background-position: 0 11pt; */

}




